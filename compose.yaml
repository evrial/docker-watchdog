services:
  docker-watchdog:
    build: .
    container_name: docker-watchdog
    restart: unless-stopped
    volumes:
      # Access to Docker socket so it can listen to events & restart containers
      - /var/run/docker.sock:/var/run/docker.sock
      # Optional: host log file (otherwise logs go to `docker logs`)
      - /var/log/docker-watchdog.log:/var/log/docker-watchdog.log
    environment:
      WATCHDOG_LOG: /var/log/docker-watchdog.log
      WATCHDOG_TIMEOUT: 10
      WATCHDOG_COOLDOWN: 30
